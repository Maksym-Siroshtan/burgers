(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/gif;base64,R0lGODlhDQAMANUAAFRVVtHd74S192aZzHqVuLq0rvf39+zr6bXI4qizwufdz5WhsmSt/5rC+r3Ezm1zeJiSjmum8tzm9bvZ/6bB5a6qpn+t5dvVzZK88+v8/7vg/7DJ4P/99V5gY8zMzObm5ofD/6zQ/3Fua8fX69fm+vDy9OPi4czh/4SXrJLC/////+7u7Wmt/87f9oG2/5Oku5mZmf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAUUADEALAAAAAANAAwAAAZTwJhwSIwhDsUixZEkWhLNYeQVjYUYBIVKSCKeGIOCymCISTATISsCu5RKW1VAkHKBUBDToRxTcUYNGhsdFR8GW0IqJS0ZDyIrh0kqCwBIVR4eTUEAOw=="}(),function(){const e=document.querySelector("#burger-menu-link"),t=document.querySelector("#burger__pop-up"),n=document.querySelector("#burger__pop-up-close");e.addEventListener("click",(()=>{t.style.display="flex"})),n.addEventListener("click",(()=>{t.style.display="none"}))}(),function(){const e=document.querySelector("#myForm"),t=document.querySelector("#order"),n=document.querySelector("#formOverlay"),o=document.querySelector("#formOverlayClose"),i=document.querySelector("#formOverlayText");document.querySelector("#phone").addEventListener("keydown",(function(e){let t=!1,n=!1,o=!1;(e.key>=0||e.key<=9)&&(t=!0),"-"!=e.key&&"+"!=e.key&&"("!=e.key&&")"!=e.key||(n=!0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"Backspace"!=e.key||(o=!0),t||n||o||e.preventDefault()})),t.addEventListener("click",(t=>{if(t.preventDefault(),function(e){let t=!0;return c(e.elements.name)||(t=!1),c(e.elements.phone)||(t=!1),c(e.elements.street)||(t=!1),c(e.elements.house)||(t=!1),t}(e)){const t={name:e.elements.name.value,phone:e.elements.phone.value,street:e.elements.street.value,house:e.elements.house.value,frame:e.elements.frame.value,flat:e.elements.flat.value,floor:e.elements.floor.value,comment:e.elements.comment.value,callback:e.elements.callback.checked},c=new XMLHttpRequest;c.responseType="json",c.open("POST","https://eorosyhq4rx8nnx.m.pipedream.net"),c.send(JSON.stringify(t)),c.addEventListener("load",(()=>{let e=window.innerWidth-document.body.offsetWidth+"px";document.body.style.paddingRight=e,document.getElementById("myForm").reset(),c.status>=400?(n.style.display="block",i.textContent="Отправить сообщение не удалось",i.style.color="red",document.body.style.overflow="hidden"):(n.style.display="block",document.body.style.overflow="hidden"),o.addEventListener("click",(()=>{n.style.display="none",document.body.style.overflow="",document.body.style.paddingRight=0}))}))}function c(e){return e.checkValidity()?(e.nextElementSibling.textContent="",!0):(e.nextElementSibling.textContent=e.validationMessage,!1)}}))}(),function(){const e=document.querySelectorAll(".menu__item");for(let t of e)t.addEventListener("click",(function(t){if(t.preventDefault(),this.classList.contains("menu__item--active"))this.classList.remove("menu__item--active");else{for(let t of e)t.classList.remove("menu__item--active");this.classList.add("menu__item--active")}}))}(),function(){const e=document.querySelector("#reviewsOverlay"),t=document.querySelector("#reviews__overlay-close");document.querySelectorAll("#reviews-button").forEach((function(n){let o=window.innerWidth-document.body.offsetWidth+"px";n.addEventListener("click",(function(t){e.style.display="block",document.body.style.overflow="hidden",document.body.style.paddingRight=o})),t.addEventListener("click",(function(t){t.preventDefault(),e.style.display="none",document.body.style.overflow="",document.body.style.paddingRight=0}))}))}(),function(){const e=document.getElementById("btn-prev"),t=document.getElementById("btn-next"),n=document.querySelectorAll(".slider__item");document.querySelectorAll(".dot");let o=0;const i=e=>{for(let e of n)e.classList.remove("slider__item--active");n[e].classList.add("slider__item--active")};t.addEventListener("click",(e=>{e.preventDefault(),o==n.length-1?(o=0,i(o)):(o++,i(o))})),e.addEventListener("click",(e=>{e.preventDefault(),0==o?(o=n.length-1,i(o)):(o--,i(o))}))}(),function(){const e=document.querySelectorAll(".team__item");for(let t of e)t.addEventListener("click",(function(t){if(t.preventDefault(),this.classList.contains("team__item--active"))this.classList.remove("team__item--active");else{for(let t of e)t.classList.remove("team__item--active");this.classList.add("team__item--active")}}))}(),function(){const e=$(".section"),t=$(".maincontent");let n=!1;const o=new MobileDetect(window.navigator.userAgent).mobile(),i=(e,t)=>{e.eq(t).addClass("active").siblings().removeClass("active")},c=o=>{if(n)return;n=!0;const c=(e=>-100*e+"%")(o);i($(".fixed-menu__item"),o),i(e,o),t.css({transform:`translateY(${c})`}),setTimeout((()=>{n=!1}),1300)},s=t=>{const n=e.filter(".active"),o=n.next(),i=n.prev();"next"===t&&o.length&&c(o.index()),"prev"===t&&i.length&&c(i.index())};$(document).on("wheel",(e=>{const t=e.originalEvent.deltaY;t<0&&s("prev"),t>0&&s("next")})),$(document).on("keydown",(e=>{const t=e.target.tagName.toLowerCase();if("input"!==t&&"textarea"!==t)switch(e.keyCode){case 38:s("prev");break;case 40:s("next")}})),$("[data-scroll-to]").on("click",(e=>{e.preventDefault();const t=parseInt($(e.currentTarget).attr("data-scroll-to"));c(t)})),o&&(window.addEventListener("touchmove",(e=>{e.preventDefault()}),{passive:!1}),$("body").swipe({swipe:function(e,t){let n;"up"===t&&(n="next"),"down"===t&&(n="prev"),s(n)}}))}(),ymaps.ready((function(){let e=new ymaps.Map("map",{center:[59.93700627957135,30.312150230717233],zoom:12}),t=new ymaps.Placemark([59.94355223518339,30.366738548588327],{},{iconLayout:"default#image",iconImageHref:"../dist/img/icons/icons.svg#map-marker",iconImageSize:[80,80],iconImageOffset:[0,0]}),n=new ymaps.Placemark([59.965936490325326,30.31180690796334],{},{iconLayout:"default#image",iconImageHref:"../dist/img/icons/icons.svg#map-marker",iconImageSize:[80,80],iconImageOffset:[0,0]}),o=new ymaps.Placemark([59.90149773727356,30.273698082279743],{},{iconLayout:"default#image",iconImageHref:"../dist/img/icons/icons.svg#map-marker",iconImageSize:[80,80],iconImageOffset:[0,0]}),i=new ymaps.Placemark([59.91915899453647,30.467643485351555],{},{iconLayout:"default#image",iconImageHref:"../dist/img/icons/icons.svg#map-marker",iconImageSize:[80,80],iconImageOffset:[0,0]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("rulerControl"),e.behaviors.disable(["scrollZoom"]),e.geoObjects.add(t),e.geoObjects.add(n),e.geoObjects.add(o),e.geoObjects.add(i)}))})();